<!DOCTYPE html>
<html lang="en" data-page="admin">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Essysessentials — Admin</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
</head>
<body class="admin-body">

  <header class="admin-topbar">
    <div class="admin-brand">
      <img src="assets/logo.jpg" class="admin-logo" alt="Logo" />
      <span id="adminStoreName">Essysessentials</span>
    </div>
    <div class="admin-actions">
      <button id="openSettings" class="icon-btn" aria-label="Settings">⚙️</button>
    </div>
  </header>

  <!-- Dashboard cards -->
  <section class="dash-cards">
    <div class="dash-card">
      <div class="dash-title">Total Orders</div>
      <div id="statOrders" class="dash-value">0</div>
    </div>
    <div class="dash-card">
      <div class="dash-title">Total Sales</div>
      <div id="statSales" class="dash-value">₦0</div>
    </div>
    <div class="dash-card">
      <div class="dash-title">Pending</div>
      <div id="statPending" class="dash-value">0</div>
    </div>
    <div class="dash-card">
      <div class="dash-title">Products</div>
      <div id="statProducts" class="dash-value">0</div>
    </div>
  </section>

  <!-- Recent Orders -->
  <section class="panel">
    <div class="panel-head"><h2>Recent Orders</h2></div>
    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr><th>Date</th><th>Customer</th><th>Total</th><th>Status</th><th>Gain</th><th>Actions</th></tr>
        </thead>
        <tbody id="ordersTable"></tbody>
      </table>
    </div>
  </section>

  <!-- Products Manager -->
  <section class="panel">
    <div class="panel-head">
      <h2>Products</h2>
      <div class="panel-actions">
        <button id="toggleAddProduct" class="btn small">Add product</button>
      </div>
    </div>

    <form id="productForm" class="form hidden">
      <div class="grid-2">
        <input id="pName" type="text" placeholder="Product name" required />
        <input id="pPrice" type="number" placeholder="Selling price (₦)" min="0" required />
        <input id="pCost" type="number" placeholder="Original cost (₦)" min="0" />
        <input id="pStock" type="number" placeholder="Stock quantity (0 = out of stock)" min="0" />
        <select id="pCollection"><option value="">Select collection (optional)</option></select>
        <textarea id="pDesc" rows="3" placeholder="Description (multi-line allowed)"></textarea>
      </div>

      <div class="options-builder">
        <div>
          <label class="lbl">Colors</label>
          <div class="add-row">
            <input id="colorInput" type="text" placeholder="e.g. Red" />
            <button type="button" id="addColor" class="btn small">Add</button>
          </div>
          <div id="colorList" class="chip-list"></div>
        </div>
        <div>
          <label class="lbl">Sizes</label>
          <div class="add-row">
            <input id="sizeInput" type="text" placeholder="e.g. M" />
            <button type="button" id="addSize" class="btn small">Add</button>
          </div>
          <div id="sizeList" class="chip-list"></div>
        </div>
      </div>

      <label class="lbl">Product images (you can select multiple)</label>
      <input id="pImages" type="file" accept="image/*" multiple />

      <div class="form-actions">
        <button class="btn primary" type="submit">Save product</button>
        <button class="btn" type="button" id="cancelProduct">Cancel</button>
      </div>
      <input type="hidden" id="editId" />
    </form>

    <div id="productsList" class="cards-list"></div>
  </section>

  <!-- Collections Manager -->
  <section class="panel">
    <div class="panel-head">
      <h2>Collections</h2>
      <div class="panel-actions">
        <input id="newCollectionName" type="text" placeholder="New collection name" />
        <button id="addCollection" class="btn small">Add</button>
      </div>
    </div>

    <div id="collectionsList" class="pill-list"></div>

    <div class="assign-wrap">
      <h3>Assign products to a collection</h3>
      <div class="grid-2">
        <select id="assignCollectionSelect"></select>
        <button id="applyAssignment" class="btn small">Assign selected</button>
      </div>
      <div id="assignProducts" class="assign-products"></div>
    </div>
  </section>

  <!-- Settings overlay -->
  <div id="settingsOverlay" class="overlay hidden"></div>

  <!-- Slide-in Settings (gear) -->
  <aside id="settingsPanel" class="settings-panel">
    <div class="settings-head">
      <h3>Settings</h3>
      <button id="closeSettings" class="close-x">×</button>
    </div>

    <div class="settings-section">
      <h4>Store Info</h4>
      <input id="setStoreName" type="text" placeholder="Store name" />
      <textarea id="setAnnouncement" rows="2" placeholder="Announcement text"></textarea>

      <label class="lbl">Announcement background</label>
      <input id="setAnnBg" type="color" />
      <label class="lbl">Announcement text color</label>
      <input id="setAnnText" type="color" />
    </div>

    <div class="settings-section">
      <h4>Customization (applies live)</h4>
      <label class="lbl">Background</label>
      <input id="setBg" type="color" />
      <label class="lbl">Button color</label>
      <input id="setBtnBg" type="color" />
      <label class="lbl">Button text color</label>
      <input id="setBtnText" type="color" />
    </div>

    <div class="settings-section">
      <h4>Contact & Messaging</h4>
      <input id="setAdminEmail" type="email" placeholder="Admin email for orders" />
      <input id="setStoreEmail" type="email" placeholder="Store email (contact form)" />
      <input id="setWhatsapp" type="tel" placeholder="WhatsApp number (e.g. 2348012345678)" />
    </div>

    <div class="settings-section">
      <h4>Bank Details (shown to customers)</h4>
      <input id="setBankName" type="text" placeholder="Bank name" />
      <input id="setAccountName" type="text" placeholder="Account name" />
      <input id="setAccountNumber" type="text" placeholder="Account number" />
    </div>

    <div class="settings-section">
      <h4>Delivery & Shipping</h4>
      <div class="grid-2">
        <input id="setOutsideFee" type="number" min="0" placeholder="Outside Lagos fee (₦)" />
        <input id="setPickupNote" type="text" placeholder="Pickup note (optional)" />
      </div>
      <div class="zone-builder">
        <div class="add-row">
          <input id="zoneName" type="text" placeholder="Lagos zone name (e.g. Mainland)" />
          <input id="zoneFee" type="number" min="0" placeholder="Fee (₦)" />
          <button id="addZone" class="btn small" type="button">Add zone</button>
        </div>
        <div id="zoneList" class="chip-list"></div>
      </div>
    </div>

    <div class="settings-actions">
      <button id="saveSettings" class="btn primary">Save settings</button>
    </div>
  </aside>

  <script src="script.js"></script>
  <script>
    (function(){ emailjs.init('RN5H1CcY7Fqkakg5w'); })();
  </script>
</body>
</html>
